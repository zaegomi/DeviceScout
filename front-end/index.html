<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DeviceScout - Enhanced Network Security Scanner</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #f5f5dc;
            min-height: 100vh;
        }

        .app-container {
            min-height: 100vh;
            background: #f5f5dc;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 40px;
            background: #f5f5dc;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo-image {
            width: 160px;
            height: 160px;
            object-fit: contain;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(229, 62, 62, 0.2);
            transition: transform 0.3s ease;
        }

        .logo-image:hover {
            transform: scale(1.05);
        }

        .nav-buttons {
            display: flex;
            gap: 15px;
        }

        .nav-button {
            padding: 12px 24px;
            background: linear-gradient(135deg, #c1839f 0%, #a0647a 100%);
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(161, 100, 122, 0.3);
        }

        .nav-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(161, 100, 122, 0.4);
        }

        .nav-button.active {
            background: linear-gradient(135deg, #e53e3e 0%, #f56565 100%);
            box-shadow: 0 6px 20px rgba(229, 62, 62, 0.4);
        }

        .main-content {
            padding: 40px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .start-page {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 60vh;
            text-align: center;
        }

        .scan-circle {
            width: 300px;
            height: 300px;
            border-radius: 50%;
            background: linear-gradient(135deg, #c1839f 0%, #a0647a 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 40px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 15px 35px rgba(161, 100, 122, 0.3);
        }

        .scan-circle:hover {
            transform: scale(1.05);
            box-shadow: 0 20px 40px rgba(161, 100, 122, 0.4);
        }

        .scan-text {
            color: white;
            font-size: 2rem;
            font-weight: 700;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .dashboard-card {
            background: white;
            border: 3px solid #2d3748;
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .dashboard-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(0,0,0,0.15);
        }

        .card-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 20px;
        }

        .card-content {
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            gap: 15px;
        }

        .metric-value {
            font-size: 3rem;
            font-weight: 700;
            color: #e53e3e;
        }

        .metric-label {
            font-size: 1.1rem;
            color: #64748b;
            font-weight: 500;
        }

        .device-container {
            background: white;
            border: 3px solid #2d3748;
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .device-title {
            font-size: 2rem;
            font-weight: 700;
            color: #2d3748;
            text-align: center;
            margin-bottom: 30px;
        }

        .device-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
        }

        .device-card {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 15px;
            padding: 20px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .device-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            border-color: #c1839f;
        }

        .device-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .device-icon {
            width: 50px;
            height: 50px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            font-weight: bold;
        }

        .device-icon.nintendo { background: #e60012; }
        .device-icon.apple { background: #007aff; }
        .device-icon.samsung { background: #1428a0; }
        .device-icon.lg { background: #a50034; }
        .device-icon.brother { background: #ff6b35; }
        .device-icon.hp { background: #0096d6; }
        .device-icon.router { background: #2d3748; }
        .device-icon.tv { background: #6b46c1; }
        .device-icon.printer { background: #059669; }
        .device-icon.gaming { background: #dc2626; }
        .device-icon.unknown { background: #64748b; }

        .device-name {
            font-size: 1.2rem;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 5px;
        }

        .device-type {
            font-size: 0.9rem;
            color: #64748b;
            font-weight: 500;
        }

        .confidence-badge {
            background: #10b981;
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .confidence-badge.medium { background: #f59e0b; }
        .confidence-badge.low { background: #ef4444; }

        .device-details {
            margin-top: 15px;
        }

        .detail-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #e5e7eb;
        }

        .detail-row:last-child {
            border-bottom: none;
        }

        .detail-label {
            font-weight: 600;
            color: #374151;
            font-size: 0.9rem;
        }

        .detail-value {
            color: #64748b;
            font-size: 0.9rem;
        }

        .services-list {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-top: 10px;
        }

        .service-tag {
            background: #e0e7ff;
            color: #3730a3;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .loading-animation {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        .scan-progress {
            text-align: center;
            margin-top: 20px;
        }

        .progress-text {
            font-size: 1.1rem;
            color: #64748b;
            margin-bottom: 10px;
        }

        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                gap: 20px;
                padding: 20px;
            }
            
            .nav-buttons {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .main-content {
                padding: 20px;
            }
            
            .device-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        function DeviceScout() {
            const [currentPage, setCurrentPage] = useState('start');
            const [isScanning, setIsScanning] = useState(false);
            const [scanProgress, setScanProgress] = useState('');
            const [deviceCount, setDeviceCount] = useState(0);
            const [securityScore, setSecurityScore] = useState(0);
            const [securityAssessment, setSecurityAssessment] = useState(null);
            const [devices, setDevices] = useState([]);

            // Function to get device icon class based on vendor or device type
            const getDeviceIconClass = (device) => {
                const vendor = device.vendor.toLowerCase();
                const deviceType = device.deviceType.toLowerCase();
                
                if (vendor.includes('nintendo')) return 'nintendo';
                if (vendor.includes('apple')) return 'apple';
                if (vendor.includes('samsung')) return 'samsung';
                if (vendor.includes('lg')) return 'lg';
                if (vendor.includes('brother')) return 'brother';
                if (vendor.includes('hp') || vendor.includes('hewlett')) return 'hp';
                if (deviceType.includes('router') || deviceType.includes('access point')) return 'router';
                if (deviceType.includes('tv')) return 'tv';
                if (deviceType.includes('printer')) return 'printer';
                if (deviceType.includes('playstation') || deviceType.includes('xbox') || deviceType.includes('console')) return 'gaming';
                
                return 'unknown';
            };

            // Function to get device icon text
            const getDeviceIconText = (device) => {
                const iconClass = getDeviceIconClass(device);
                const iconMap = {
                    nintendo: 'üéÆ',
                    apple: 'üçé',
                    samsung: 'üì±',
                    lg: 'üì∫',
                    brother: 'üñ®Ô∏è',
                    hp: 'üñ®Ô∏è',
                    router: 'üì°',
                    tv: 'üì∫',
                    printer: 'üñ®Ô∏è',
                    gaming: 'üéÆ',
                    unknown: '‚ùì'
                };
                return iconMap[iconClass] || '‚ùì';
            };

            // Function to get confidence badge class
            const getConfidenceBadgeClass = (confidence) => {
                if (confidence >= 70) return '';
                if (confidence >= 40) return 'medium';
                return 'low';
            };

            const handleScan = async () => {
                setIsScanning(true);
                setScanProgress('Initializing scan...');
                
                try {
                    console.log('üîç Starting enhanced network scan...');
                    setScanProgress('Discovering network devices...');
                    
                    // Call enhanced backend API
                    const response = await fetch('http://localhost:3001/api/scan');
                    const data = await response.json();
                    
                    if (data.success) {
                        console.log('‚úÖ Enhanced scan completed:', data);
                        setScanProgress('Analyzing device fingerprints...');
                        
                        // Simulate analysis progress
                        await new Promise(resolve => setTimeout(resolve, 1000));
                        setScanProgress('Identifying device types...');
                        await new Promise(resolve => setTimeout(resolve, 1000));
                        
                        // Update state with enhanced data
                        setDeviceCount(data.deviceCount);
                        setDevices(data.devices || []);
                        
                        // Update security assessment
                        if (data.securityAssessment) {
                            setSecurityScore(data.securityAssessment.overallScore);
                            setSecurityAssessment(data.securityAssessment);
                            console.log('üîí Security Score: ' + data.securityAssessment.overallScore + '/100');
                            console.log('‚ö†Ô∏è Vulnerabilities: ' + data.securityAssessment.totalVulnerabilities);
                        }
                        
                        console.log(`üì± Enhanced scan found ${data.deviceCount} devices on network ${data.network.subnet}`);
                        
                        // Show detailed device information
                        data.devices.forEach((device, index) => {
                            console.log(`Device ${index + 1}:`, {
                                ip: device.ip,
                                deviceType: device.deviceType,
                                vendor: device.vendor,
                                os: device.operatingSystem,
                                confidence: device.confidence
                            });
                        });
                    } else {
                        console.error('‚ùå Enhanced scan failed:', data.error);
                        alert('Enhanced scan failed: ' + data.error);
                    }
                } catch (error) {
                    console.error('‚ùå Network error:', error);
                    alert('Could not connect to backend. Make sure the enhanced server is running on http://localhost:3001');
                } finally {
                    setIsScanning(false);
                    setScanProgress('');
                    setCurrentPage('dashboard');
                }
            };

            const navigateToPage = (page) => {
                setCurrentPage(page);
            };

            return (
                <div className="app-container">
                    <header className="header">
                        <div className="logo-section">
                            <img src="logo.png" alt="DeviceScout Logo" className="logo-image" />
                        </div>
                        
                        {currentPage !== 'start' && (
                            <nav className="nav-buttons">
                                <button 
                                    className={`nav-button ${currentPage === 'dashboard' ? 'active' : ''}`}
                                    onClick={() => navigateToPage('dashboard')}
                                >
                                    Dashboard
                                </button>
                                <button 
                                    className={`nav-button ${currentPage === 'devices' ? 'active' : ''}`}
                                    onClick={() => navigateToPage('devices')}
                                >
                                    Devices
                                </button>
                                <button 
                                    className={`nav-button ${currentPage === 'security' ? 'active' : ''}`}
                                    onClick={() => navigateToPage('security')}
                                >
                                    Security
                                </button>
                                <button 
                                    className="nav-button"
                                    onClick={() => setCurrentPage('start')}
                                >
                                    New Scan
                                </button>
                            </nav>
                        )}
                    </header>

                    <main className="main-content">
                        {/* Start Page */}
                        <div className={`page ${currentPage === 'start' ? 'active' : ''}`}>
                            <div className="start-page">
                                <div className="scan-circle" onClick={handleScan}>
                                    <div className="scan-text">
                                        {isScanning ? (
                                            <>
                                                <div className="loading-animation"></div>
                                                <div style={{marginTop: '10px', fontSize: '1.2rem'}}>Scanning...</div>
                                            </>
                                        ) : (
                                            'Enhanced Scan'
                                        )}
                                    </div>
                                </div>
                                {isScanning && (
                                    <div className="scan-progress">
                                        <div className="progress-text">{scanProgress}</div>
                                        <p style={{fontSize: '0.9rem', color: '#64748b'}}>
                                            Enhanced scanning with device fingerprinting (may take up to 2 minutes)
                                        </p>
                                    </div>
                                )}
                                {!isScanning && (
                                    <p style={{fontSize: '1.2rem', color: '#64748b', maxWidth: '600px'}}>
                                        Welcome to DeviceScout Enhanced! Click the button above to start an advanced 
                                        network scan with detailed device identification and fingerprinting.
                                    </p>
                                )}
                            </div>
                        </div>

                        {/* Dashboard Page */}
                        <div className={`page ${currentPage === 'dashboard' ? 'active' : ''}`}>
                            <div className="dashboard-grid">
                                <div className="dashboard-card">
                                    <h2 className="card-title">Total Devices</h2>
                                    <div className="card-content">
                                        <div className="metric-value">{deviceCount}</div>
                                        <div className="metric-label">Connected Devices</div>
                                        <div style={{fontSize: '0.9rem', color: '#38a169', marginTop: '10px'}}>
                                            ‚úì Enhanced detection active
                                        </div>
                                    </div>
                                </div>

                                <div className="dashboard-card">
                                    <h2 className="card-title">Security Score</h2>
                                    <div className="card-content">
                                        <div className="metric-value">{securityScore}/100</div>
                                        <div className="metric-label">Network Security</div>
                                        <div style={{fontSize: '0.9rem', color: securityScore >= 80 ? '#38a169' : securityScore >= 60 ? '#d69e2e' : '#e53e3e', marginTop: '10px'}}>
                                            {securityScore >= 80 ? '‚úì Good Security' : securityScore >= 60 ? '‚ö† Needs Improvement' : '‚ö† High Risk'}
                                        </div>
                                    </div>
                                </div>

                                <div className="dashboard-card">
                                    <h2 className="card-title">Security Analysis</h2>
                                    <div className="card-content">
                                        <div style={{fontSize: '1.1rem', color: '#2d3748', lineHeight: '1.6'}}>
                                            {securityAssessment ? (
                                                <>
                                                    <div>üîç Total Vulnerabilities: {securityAssessment.totalVulnerabilities}</div>
                                                    <div>üö® Critical Issues: {securityAssessment.criticalVulnerabilities}</div>
                                                    <div>‚ö†Ô∏è High Risk Issues: {securityAssessment.highVulnerabilities}</div>
                                                    <div>üìä Average Device Score: {securityAssessment.averageDeviceScore}/100</div>
                                                </>
                                            ) : (
                                                <div>Run a scan to see security analysis</div>
                                            )}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* Enhanced Devices Page */}
                        <div className={`page ${currentPage === 'devices' ? 'active' : ''}`}>
                            <div className="device-container">
                                <h2 className="device-title">Enhanced Device Detection</h2>
                                <div className="device-grid">
                                    {devices.length > 0 ? (
                                        devices.map((device, index) => (
                                            <div key={index} className="device-card">
                                                <div className="device-header">
                                                    <div className={`device-icon ${getDeviceIconClass(device)}`}>
                                                        {getDeviceIconText(device)}
                                                    </div>
                                                    <div style={{flex: 1}}>
                                                        <div className="device-name">
                                                            {device.deviceType !== 'Unknown Device' ? device.deviceType : device.hostname}
                                                        </div>
                                                        <div className="device-type">{device.vendor}</div>
                                                    </div>
                                                    <div className={`confidence-badge ${getConfidenceBadgeClass(device.confidence)}`}>
                                                        {device.confidence}%
                                                    </div>
                                                </div>
                                                
                                                <div className="device-details">
                                                    <div className="detail-row">
                                                        <span className="detail-label">IP Address:</span>
                                                        <span className="detail-value">{device.ip}</span>
                                                    </div>
                                                    <div className="detail-row">
                                                        <span className="detail-label">Hostname:</span>
                                                        <span className="detail-value">{device.hostname}</span>
                                                    </div>
                                                    <div className="detail-row">
                                                        <span className="detail-label">Operating System:</span>
                                                        <span className="detail-value">{device.operatingSystem}</span>
                                                    </div>
                                                    <div className="detail-row">
                                                        <span className="detail-label">Detection Method:</span>
                                                        <span className="detail-value" style={{fontSize: '0.8rem', textTransform: 'capitalize'}}>
                                                            {device.detectionMethod?.replace('_', ' ') || 'Basic'}
                                                        </span>
                                                    </div>
                                                    <div className="detail-row">
                                                        <span className="detail-label">MAC Address:</span>
                                                        <span className="detail-value" style={{fontSize: '0.8rem'}}>{device.mac}</span>
                                                    </div>
                                                    <div className="detail-row">
                                                        <span className="detail-label">Open Ports:</span>
                                                        <span className="detail-value">{device.openPorts.length}</span>
                                                    </div>
                                                    
                                                    {device.insights && device.insights.length > 0 && (
                                                        <div style={{marginTop: '10px'}}>
                                                            <div className="detail-label" style={{marginBottom: '5px'}}>Insights:</div>
                                                            <div style={{fontSize: '0.85rem', lineHeight: '1.4'}}>
                                                                {device.insights.map((insight, idx) => (
                                                                    <div key={idx} style={{color: '#2563eb', marginBottom: '2px'}}>{insight}</div>
                                                                ))}
                                                            </div>
                                                        </div>
                                                    )}
                                                    
                                                    {device.services && device.services.length > 0 && (
                                                        <div style={{marginTop: '10px'}}>
                                                            <div className="detail-label" style={{marginBottom: '5px'}}>Services:</div>
                                                            <div className="services-list">
                                                                {device.services.slice(0, 4).map((service, idx) => (
                                                                    <span key={idx} className="service-tag">{service}</span>
                                                                ))}
                                                                {device.services.length > 4 && (
                                                                    <span className="service-tag">+{device.services.length - 4} more</span>
                                                                )}
                                                            </div>
                                                        </div>
                                                    )}
                                                    
                                                    {device.alternativeDetections && device.alternativeDetections.length > 0 && (
                                                        <div style={{marginTop: '10px'}}>
                                                            <div className="detail-label" style={{marginBottom: '5px'}}>Alternative Detections:</div>
                                                            <div style={{fontSize: '0.8rem', color: '#64748b'}}>
                                                                {device.alternativeDetections.map((alt, idx) => (
                                                                    <div key={idx}>‚Ä¢ {alt.deviceType} ({alt.confidence}%)</div>
                                                                ))}
                                                            </div>
                                                        </div>
                                                    )}
                                                </div>
                                            </div>
                                        ))
                                    ) : (
                                        <div className="device-card" style={{gridColumn: '1 / -1', textAlign: 'center'}}>
                                            <div style={{padding: '40px', color: '#64748b'}}>
                                                <div style={{fontSize: '3rem', marginBottom: '20px'}}>üîç</div>
                                                <div style={{fontSize: '1.2rem', fontWeight: '600', marginBottom: '10px'}}>No devices found</div>
                                                <div>Run an enhanced scan to discover and identify devices on your network</div>
                                            </div>
                                        </div>
                                    )}
                                </div>
                            </div>
                        </div>

                        {/* Security Page */}
                        <div className={`page ${currentPage === 'security' ? 'active' : ''}`}>
                            <div className="device-container">
                                <h2 className="device-title">Real-Time Security Assessment</h2>
                                <div style={{textAlign: 'center', marginBottom: '40px'}}>
                                    <div style={{fontSize: '4rem', fontWeight: '700', color: securityScore >= 80 ? '#38a169' : securityScore >= 60 ? '#d69e2e' : '#e53e3e', marginBottom: '10px'}}>
                                        {securityScore}/100
                                    </div>
                                    <div style={{fontSize: '2rem', fontWeight: '700', color: securityScore >= 80 ? '#38a169' : securityScore >= 60 ? '#d69e2e' : '#e53e3e', textTransform: 'uppercase', letterSpacing: '2px'}}>
                                        {securityScore >= 80 ? 'SECURE' : securityScore >= 60 ? 'MODERATE' : securityScore >= 40 ? 'POOR' : 'CRITICAL'}
                                    </div>
                                </div>
                                
                                {securityAssessment && securityAssessment.vulnerabilities.length > 0 ? (
                                    <div style={{background: '#fff5f5', border: '2px solid #fed7d7', borderRadius: '15px', padding: '30px', marginBottom: '30px'}}>
                                        <div style={{color: '#e53e3e', fontWeight: '600', fontSize: '1.2rem', marginBottom: '20px'}}>
                                            üö® Security Issues Found ({securityAssessment.totalVulnerabilities} total)
                                        </div>
                                        
                                        <div style={{maxHeight: '300px', overflowY: 'auto'}}>
                                            {securityAssessment.vulnerabilities.slice(0, 8).map((vuln, index) => (
                                                <div key={index} style={{
                                                    background: 'white', 
                                                    margin: '10px 0', 
                                                    padding: '15px', 
                                                    borderRadius: '8px',
                                                    borderLeft: `4px solid ${vuln.risk === 'CRITICAL' ? '#e53e3e' : vuln.risk === 'HIGH' ? '#f56565' : vuln.risk === 'MEDIUM' ? '#ed8936' : '#38a169'}`
                                                }}>
                                                    <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '8px'}}>
                                                        <div style={{fontWeight: '600', color: '#2d3748'}}>{vuln.issue}</div>
                                                        <span style={{
                                                            background: vuln.risk === 'CRITICAL' ? '#e53e3e' : vuln.risk === 'HIGH' ? '#f56565' : vuln.risk === 'MEDIUM' ? '#ed8936' : '#38a169',
                                                            color: 'white',
                                                            padding: '2px 8px',
                                                            borderRadius: '12px',
                                                            fontSize: '0.8rem',
                                                            fontWeight: '600'
                                                        }}>
                                                            {vuln.risk}
                                                        </span>
                                                    </div>
                                                    <div style={{fontSize: '0.9rem', color: '#64748b', marginBottom: '5px'}}>
                                                        Device: {vuln.deviceType} ({vuln.device})
                                                    </div>
                                                    {vuln.port && (
                                                        <div style={{fontSize: '0.9rem', color: '#64748b', marginBottom: '5px'}}>
                                                            Port: {vuln.port}
                                                        </div>
                                                    )}
                                                    {vuln.cve && vuln.cve !== 'N/A' && (
                                                        <div style={{fontSize: '0.85rem', color: '#4a5568', fontFamily: 'monospace'}}>
                                                            CVE: {vuln.cve}
                                                        </div>
                                                    )}
                                                </div>
                                            ))}
                                            {securityAssessment.vulnerabilities.length > 8 && (
                                                <div style={{textAlign: 'center', padding: '10px', color: '#64748b'}}>
                                                    ... and {securityAssessment.vulnerabilities.length - 8} more issues
                                                </div>
                                            )}
                                        </div>
                                    </div>
                                ) : (
                                    <div style={{background: '#f0fff4', border: '2px solid #9ae6b4', borderRadius: '15px', padding: '30px', marginBottom: '30px'}}>
                                        <div style={{color: '#38a169', fontWeight: '600', fontSize: '1.2rem', textAlign: 'center'}}>
                                            ‚úÖ No major security vulnerabilities detected
                                        </div>
                                    </div>
                                )}
                                
                                {securityAssessment && securityAssessment.recommendations.length > 0 && (
                                    <div style={{background: '#e2e8f0', borderRadius: '15px', padding: '25px'}}>
                                        <div style={{fontWeight: '700', fontSize: '1.1rem', color: '#2d3748', marginBottom: '15px'}}>
                                            üõ†Ô∏è Security Recommendations
                                        </div>
                                        {securityAssessment.recommendations.map((rec, index) => (
                                            <div key={index} style={{
                                                background: 'white',
                                                margin: '8px 0',
                                                padding: '12px',
                                                borderRadius: '8px',
                                                borderLeft: `3px solid ${rec.priority === 'CRITICAL' ? '#e53e3e' : rec.priority === 'HIGH' ? '#f56565' : rec.priority === 'MEDIUM' ? '#ed8936' : '#38a169'}`
                                            }}>
                                                <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center'}}>
                                                    <div style={{fontWeight: '600', color: '#2d3748'}}>{rec.action}</div>
                                                    <span style={{
                                                        background: rec.priority === 'CRITICAL' ? '#e53e3e' : rec.priority === 'HIGH' ? '#f56565' : rec.priority === 'MEDIUM' ? '#ed8936' : '#38a169',
                                                        color: 'white',
                                                        padding: '1px 6px',
                                                        borderRadius: '10px',
                                                        fontSize: '0.75rem',
                                                        fontWeight: '600'
                                                    }}>
                                                        {rec.priority}
                                                    </span>
                                                </div>
                                                <div style={{fontSize: '0.9rem', color: '#64748b', marginTop: '5px'}}>
                                                    {rec.reason}
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                )}
                            </div>
                        </div>
                    </main>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<DeviceScout />);
    </script>
</body>
</html>